<!DOCTYPE html>
<html lang="pt">
    <head>
        <meta charset="UTF-8">
        <title>AutoCarros Ale - Contato</title>

    <link rel="stylesheet" type="text/css" href="estilos.css">
    </head>

    <body>

        <div class="cabecalho">
            <div class="menu">
                <h1 class="logo">AutoCarros Ale</h1>
                <nav>
                    <a href="carros.html">Carros</a>
                    <a href="contato.html">Contato</a>
                </nav>
            </div>
        </div>
        
        <div class="conteudo">
            <p class="centralizado">Temos os <strong>melhores carros</strong> com os <strong>melhores preços</strong>! <em>Venha conferir!</em>
            </p>
            
            <img src="imgs/carro01.jpg" height="400" class="img-esquerda">
            
            <p>Entre em contato conosco através do formulário abaixo: </p>
            
            <form id="contato">
                <label for="nomeCompleto">Nome Completo:</label>
                <br>
                <input type="text" name="nomeCompleto" placeholder="Insira seu Nome Completo" required>
                <br>
                <label for="telefone">Telefone:</label>
                <br>
                <input type="text" name="telefone" placeholder="Insira seu Telefone">
                <br>
                <label for="email">Email:</label>
                <br>
                <input type="email" name="email" placeholder="Insira seu Email" required>
                <br>
                <label for="mensagem">Mensagem:</label>
                <br>
                <textarea name="mensagem" id="mensagem" rows="5" placeholder="Insira sua mensagem" required></textarea>
                <br>
                <button type="submit">Enviar</button>
            </form>
            
        </div>
        <script>
            function enviarContato(event){
                event.preventDefault();
                var dadosDeContato = new FormData(formDeContato);
        
                var contato = {
               nomeCompleto: dadosDeContato.get("nomeCompleto"),
               telefone: dadosDeContato.get("telefone"),
               email: dadosDeContato.get("email"),
               mensagem: dadosDeContato.get("mensagem"),
               dataHora: Date.now(),
               };
        
               salvarContato(contato);
               
               var mensagem = "Ei, " + contato.nomeCompleto + ", sua mensagem foi enviada com sucesso, por favor,aguarde nosso retorno!"
               alert(mensagem);
        
               formDeContato.reset();
            }
        
            var formDeContato = document.getElementById("contato");
            formDeContato.addEventListener("submit", enviarContato);
        
              function salvarContato(contato) {
              var contatoEmTexto = localStorage.getItem("contatos");
        
              var listaDeContatos;
              if (!contatoEmTexto){
                  listaDeContatos = [];
              } else {
                  listaDeContatos = JSON.parse(contatoEmTexto);
              }
        
              listaDeContatos.push(contato);
        
              contatoEmTexto = JSON.stringify(listaDeContatos);
        
              localStorage.setItem("contatos", contatoEmTexto);
        
              return listaDeContatos.lenght;
           }
        
        </script>
    </body>
</html>




