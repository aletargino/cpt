<!DOCTYPE html>
<html lang="pt">
    <head>
        <meta charset="UTF-8">
        <title>cadastro-academia</title>

    </head>

    <body>
        <h1>
            Ficha Cadastral SUPER GYM
        </h1>

        <form id="cadastro">
            <label for="nome">Nome:</label>
            <input type="text" name="nome" required>
            <br>
            <br>
            <label for="sobrenome">Sobrenome:</label>
            <input type="text" name="sobrenome" required>
            <br>
            <br>
            <label for="Data de Nascimento">Data de Nascimento:</label>
            <input type="date" id="Data de Nascimento" name="Data de Nascimento" required>
            <br>
            <br>
            <label for="sexo">Sexo:</label>
            <input type="radio" id="masculino" name="sexo" value="masculino">
            <label for="masculino">Masculino</label>
            <input type="radio" id="feminino" name="sexo" value="feminino">
            <label for="feminino">Feminino</label>
            <input type="radio" id="outro" name="sexo" value="outro">
            <label for="outro">Outro</label>
            <br>
            <br>
            <label for="peso">Peso:</label>
            <input type="text" name="peso" required>Kg
            <br>
            <br>
            <label for="altura">Altura:</label>
            <input type="altura" name="altura" required>m
            <br>
            <br>
            <label for="objetivos">Objetivos (pode escolher mais de um):</label>
            <br>
            <form action="" method="get">
            <input type="checkbox" name="emagrecimento">
            <label for="emagrecimento"> Emagrecimento</label><br>
            <input type="checkbox" name="condicionamento">
            <label for="condicionamento"> Condicionamento Físico</label><br>
            <input type="checkbox" name="saude">
            <label for="saude"> Saúde</label><br>
            <input type="checkbox" name="estetica">
            <label for="preparacao"> Preparação para Esporte</label><br>
            <input type="checkbox" name="estetica">
            <label for="estetica"> Estética</label><br>
            </form>
            <br>
            <label for="observacoes">Observaçōes:</label>
            <br>
            <textarea name="observacoes" id="observacoes" rows="5"></textarea>
            <br>
            <br>
            <button type="submit">Cadastrar</button>
        </form>

        <script>
            function cadastrar(event) {
                event.preventDefault();
                var dadosDeCadastro = new FormData(formDeCadastro); 

                var cadastro = {
                    nome: dadosDeCadastro.get("nome"),
                    sobrenome: dadosDeCadastro.get("sobrenome"),
                    dataNascimento: dadosDeCadastro.get("Data de Nascimento"),
                    sexo: dadosDeCadastro.get("sexo"),
                    peso: Number (dadosDeCadastro.get("peso")),
                    altura: Number (dadosDeCadastro.get("altura")),
                    objetivos: dadosDeCadastro.get("objetivos"),
                    observacoes: dadosDeCadastro.get("observacoes"),
                };

                //a idade mínima para cadastro na Super GYM é de 14 anos,
                 
                    var hoje = new Date;  
                    var nascimento = new Date($("Data de Nascimento").val());  
                    var idade = hoje.getFullYear() - nascimento.getFullYear();  
                    if (new Date(hoje.getFullYear(), hoje.getMonth(), hoje.getDate()) <  
                    new Date(hoje.getFullYear(), nascimento.getMonth(), nascimento.getDate())){  
                    idade--;
                    } else if (idade < 14){
                    alert("Idade mínima para cadastro na Super GYM é de 14 anos");
                    return false;
                    }
                
                //pelo menos um objetivo deve ser marcado, caso contrário exiba um alerta de erro ao usuário:
                if (objetivos.checked == false){
                alert("Pelo menos um objetivo deve serr marcado!");
                }

                //o peso mínimo é de 30kg e máximo de 900kg
                if (isNaN(cadastro.peso < 30)){
                    alert("Peso precisa ser maior que 30kg!");
                    return false;
                } else if (cadastro.peso >900){
                    alert("Peso precisa ser menor que 900kg!");
                    return false;
                }

                //a altura mínima é de 1 metro e máxima de 3 metros
                if (isNaN(cadastro.altura < 1)){
                    alert("Altura precisa ser maior que 1 metros!");
                    return false;
                } else if (cadastro.altura >3){
                    alert("Altura precisa ser menor que 3 metros!");
                    return false;
                }

            }

        </script>
    </body>
</html>